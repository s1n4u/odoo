# hr_hospital

Модуль **hr_hospital** призначений для автоматизації роботи лікарні в системі Odoo.

## Особливості

- Абстрактна модель `Person` з полями:
    - Прізвище
    - Ім’я
    - Телефон
    - Фото
    - Стать

- Модель **Doctor**:
    - Спеціальність (через модель `Specialty`)
    - Інтерн / не інтерн (з ментором)
    - Відображення інтернів у вкладці "Interns"
    - Kanban-представлення з групуванням по спеціальностях
    - Смарт-кнопка для швидкого створення візиту з картки лікаря
    - Фільтри: інтерни / ментори
    - Візард: формування звіту по діагнозах (Print Diagnosis Report)
    - **Звіт Doctor Report (PDF / HTML)**:
        - Викликається з кнопки "Print Doctor Report" у формі лікаря
        - Виводиться один лікар на сторінку
        - Містить: ім’я, спеціальність, історію візитів (із кольоровим статусом), таблицю пацієнтів
        - Внизу: місто компанії та дата/час друку
        - Формат паперу: A4 (власний `paperformat`

- Модель **Patient**:
    - Персональний лікар
    - Дата народження, вік (обчислюється)
    - Паспортні дані, контактна особа
    - Смарт-кнопка: перегляд візитів
    - Кнопка: швидке створення візиту
    - Вкладка: історія діагнозів
    - Пошук по ПІБ та телефону
    - Масове оновлення лікаря через окремий візард

- Модель **Disease**:
    - Ієрархічна структура хвороб
    - Searchpanel у списку
    - Вибір через дерево
    - 6 демо-записів

- Модель **Visit**:
    - Планова дата/час, фактична дата/час
    - Пацієнт, лікар, список діагнозів
    - Статус: Заплановано / Завершено / Скасовано
    - Відображення статусу у формі через statusbar
    - Представлення:
        - Tree
        - Form
        - Calendar (по planned_datetime)
        - Pivot (лікар / статус)
    - Пошук з групуванням за статусом та лікарем
    - Демо: 4 записи
    - Обмеження:
        - Візит не видаляється, якщо є діагнози
        - Заборонено подвійне бронювання лікаря в межах 2 годин
        - Один пацієнт не може записатися до одного лікаря двічі на день

- Модель **Diagnosis**:
    - Призначена хвороба, опис лікування, затвердження
    - Аналітика:
        - Pivot по хворобах, категоріях (parent), місяцях та роках
        - Graph (графік захворюваності по типах хвороб)
    - Відображення у формі пацієнта (історія діагнозів)
    - Демо: 6 записів

- Візард **Масове оновлення персонального лікаря**:
    - Доступний у списку пацієнтів
    - Дозволяє змінити лікаря у вибраних записах

- Візард **Звіт по діагнозах**:
    - Викликається з картки лікаря через кнопку "Print Diagnosis Report"
    - Параметри:
        - Один або декілька лікарів
        - Одна або декілька хвороб
        - Дата "з" та "по"
    - Результат: фільтрований список діагнозів

## Демо-дані

- 5 пацієнтів
- 5 лікарів (з інтернами і менторами)
- 2 спеціальності
- 6 хвороб у вигляді ієрархії
- 4 візити
- 6 діагнозів

## Установка

1. Скопіюйте модуль у директорію `custom_addons`.
2. Активуйте режим розробника в Odoo.
3. Оновіть список модулів.
4. Встановіть модуль `hr_hospital`.

## Структура модуля

::

  hr_hospital/
  ├── models/
  │   ├── __init__.py
  │   ├── diagnosis.py
  │   ├── disease.py
  │   ├── doctor.py
  │   ├── patient.py
  │   ├── person.py
  │   ├── specialty.py
  │   └── visit.py
  ├── wizards/
  │   ├── __init__.py
  │   ├── diagnosis_report_wizard.py
  │   ├── diagnosis_report_wizard_view.xml
  │   ├── set_personal_doctor_wizard.py
  │   └── set_personal_doctor_wizard_view.xml
  ├── views/
  │   ├── diagnosis_views.xml
  │   ├── disease_views.xml
  │   ├── doctor_views.xml
  │   ├── doctor_report.xml
  │   ├── patient_views.xml
  │   ├── person_views.xml
  │   ├── specialty_views.xml
  │   ├── visit_views.xml
  │   └── menu.xml
  ├── data/
  │   ├── demo_specialty.xml
  │   ├── disease_demo.xml
  │   ├── demo_persons.xml
  │   └── visit_demo.xml
  ├── security/
  │   └── ir.model.access.csv
  ├── __init__.py
  ├── __manifest__.py
  └── README.rst

## Автор

**s1n** && **☀️**

